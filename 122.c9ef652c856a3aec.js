"use strict";(self.webpackChunkangular_quiz_maker=self.webpackChunkangular_quiz_maker||[]).push([[122],{5122:($,c,s)=>{s.r(c),s.d(c,{QuizResultsPageComponent:()=>y});var r=s(6814),m=s(2572),u=s(7398),g=s(805),d=s(3279),e=s(4946);let C=(()=>{class t{constructor(o){this.el=o,this.appScoreColor=null}ngOnChanges(o){const i=o.appScoreColor?.currentValue;"number"==typeof i&&(i>=.8?(this.el.nativeElement.style.backgroundColor="green",this.el.nativeElement.style.color="white"):i>=.4?(this.el.nativeElement.style.backgroundColor="yellow",this.el.nativeElement.style.color="black"):(this.el.nativeElement.style.backgroundColor="red",this.el.nativeElement.style.color="white"))}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(e.SBq))},t.\u0275dir=e.lG2({type:t,selectors:[["","appScoreColor",""]],inputs:{appScoreColor:"appScoreColor"},standalone:!0,features:[e.TTD]}),t})();var z=s(5204),h=s(9868);function f(t,a){if(1&t&&e._UZ(0,"app-question-list",4),2&t){const o=e.oxw();e.Q6J("quizData$",o.quizData$)("quizCompleted",!0)}}function v(t,a){if(1&t&&(e.TgZ(0,"p",5),e.ALo(1,"async"),e._uU(2),e.ALo(3,"async"),e.ALo(4,"async"),e.qZA()),2&t){const o=e.oxw();e.Q6J("appScoreColor",e.lcZ(1,3,o.successRate$)),e.xp6(2),e.AsE("You scored ",e.lcZ(3,5,o.correctAnswers$)," out of ",e.lcZ(4,7,o.numberOfQuestions$),"")}}function q(t,a){1&t&&(e.TgZ(0,"p",6),e._uU(1,"No score to show"),e.qZA())}let y=(()=>{class t{constructor(o,i){this.router=o,this.quizService=i,this.quizData$=this.quizService.quizData$,this.correctAnswers$=this.quizData$.pipe((0,u.U)(n=>n?n.reduce((l,p)=>p.selectedAnswer===p.correctAnswer?l+1:l,0):null)),this.numberOfQuestions$=this.quizData$.pipe((0,u.U)(n=>n?n.length:null)),this.successRate$=(0,m.a)([this.correctAnswers$,this.numberOfQuestions$]).pipe((0,u.U)(([n,l])=>n&&l?n/l:0))}onNewButtonClicked(){this.quizService.emptyQuizData(),this.router.navigate(["quiz"])}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(z.F0),e.Y36(h.v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-quiz-results-page"]],standalone:!0,features:[e.jDz],decls:10,vars:7,consts:[[3,"quizData$","quizCompleted",4,"ngIf"],["class","score",3,"appScoreColor",4,"ngIf","ngIfElse"],["noScore",""],[3,"buttonClicked"],[3,"quizData$","quizCompleted"],[1,"score",3,"appScoreColor"],[1,"score"]],template:function(o,i){if(1&o&&(e.TgZ(0,"h1"),e._uU(1,"Results"),e.qZA(),e.YNc(2,f,1,2,"app-question-list",0),e.ALo(3,"async"),e.YNc(4,v,5,9,"p",1),e.ALo(5,"async"),e.YNc(6,q,2,0,"ng-template",null,2,e.W1O),e.TgZ(8,"app-button-wide",3),e.NdJ("buttonClicked",function(){return i.onNewButtonClicked()}),e._uU(9,"Create a new quiz"),e.qZA()),2&o){const n=e.MAs(7);e.xp6(2),e.Q6J("ngIf",e.lcZ(3,3,i.quizData$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,5,i.quizData$))("ngIfElse",n)}},dependencies:[r.ez,r.O5,r.Ov,g.y,d.W,C],styles:[".score[_ngcontent-%COMP%]{margin-bottom:calc(var(--paddings) * 2);text-align:center;width:60%;margin-right:auto;margin-left:auto;padding:var(--paddings) 0;border-radius:var(--radius)}"]}),t})()}}]);